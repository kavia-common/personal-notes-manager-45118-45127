{"is_source_file": true, "format": "Java", "description": "This Java class `GlobalExceptionHandler` is a Spring Boot REST controller advice that provides centralized exception handling for the application. It manages specific exceptions like `NoteNotFoundException` and `ErrorResponseException`, as well as general exceptions, converting them into structured HTTP responses with appropriate status codes and error messages. It also handles validation errors in method arguments.", "external_files": ["com.example.notesbackend.service.NoteNotFoundException", "org.springframework.http.HttpHeaders", "org.springframework.http.HttpStatus", "org.springframework.http.HttpStatusCode", "org.springframework.http.ResponseEntity", "org.springframework.validation.FieldError", "org.springframework.web.ErrorResponseException", "org.springframework.web.bind.MethodArgumentNotValidException", "org.springframework.web.bind.annotation.ExceptionHandler", "org.springframework.web.bind.annotation.RestControllerAdvice", "org.springframework.web.context.request.WebRequest", "org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler"], "external_methods": ["ex.getBindingResult().getFieldErrors()", "fe.getDefaultMessage()", "body.put()", "ResponseEntity.status().body()"], "published": ["handleNoteNotFound", "handleSpringError", "handleOther", "handleMethodArgumentNotValid", "messageFor", "build"], "classes": [{"name": "GlobalExceptionHandler", "description": "A Spring Boot exception handler class annotated with `@RestControllerAdvice`, that handles and formats error responses for various exceptions throughout the application."}], "methods": [{"name": "handleNoteNotFound", "description": "Handles cases where a note is not found; returns a 404 response with an error message."}, {"name": "handleSpringError", "description": "Handles Spring's `ErrorResponseException`, returning the associated status and message."}, {"name": "handleOther", "description": "Catches all other exceptions, returning a 500 Internal Server Error response."}, {"name": "handleMethodArgumentNotValid", "description": "Overrides default method to handle validation errors, collecting field-specific error messages."}, {"name": "messageFor", "description": "Helper method to extract default validation message or provide a fallback."}, {"name": "build", "description": "Constructs a structured JSON response body with timestamp, status, error code, message, and optional field errors."}], "calls": ["build(HttpStatus.NOT_FOUND, \"NOT_FOUND\", ex.getMessage(), null)", "build(ex.getStatusCode(), \"ERROR\", ex.getMessage(), null)", "build(HttpStatus.INTERNAL_SERVER_ERROR, \"INTERNAL_ERROR\", \"Unexpected error\", null)", "errors.put(fe.getField(), messageFor(fe))", "build(HttpStatus.BAD_REQUEST, \"VALIDATION_ERROR\", \"Validation failed\", errors)", "body.put(\"timestamp\", Instant.now().toString())", "body.put(\"status\", status.value())", "body.put(\"error\", code)", "body.put(\"message\", message)", "ResponseEntity.status(status).body(body)"], "search-terms": ["GlobalExceptionHandler", "handleNoteNotFound", "handleMethodArgumentNotValid", "ResponseEntityExceptionHandler", "validation error handling", "Spring Boot exception handling"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "hash": "33e2b6fb5685ef6b451128c926bde309", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/main/java/com/example/notesbackend/web/GlobalExceptionHandler.java", "revision_history": [{"27": ""}]}